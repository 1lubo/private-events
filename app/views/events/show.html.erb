<div class="container">
    <div class="title">
        <strong>Title: </strong>
        <%= @event.name %>
    </div>
    <div class="date">
        <strong>Date: </strong>
        <%= @event.date %>
    </div>
    <div class="location">
        <strong>Location: </strong>
        <%= @event.location %>
    </div>
    <div class="description">
        <strong>Description: </strong>
        <%= @event.description %>
    </div>
    <div class="creator">
        <strong>Organizer: </strong>
        <%= @event.creator.name %>
    </div>
    <div class="attendees">
        <strong>Attendees: </strong>
        <% if !@event.attendees.empty? %>
            <% @event.attendees.each do |a| %>
                <%= a.name %>
            <% end %>
        <% end %>
    </div>
</div>

<div>
    <% if current_user != nil && current_user.id == @event.creator_id %>
        <%= link_to 'Edit', edit_event_path(@event) %>
        <%= link_to 'Delete', event_path(@event), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}%>        
    <% end %>
    
    
    <% if current_user != nil && !@event.attendees.include?(User.find(session[:user_id]))%>
        <%= link_to'Attend', attend_event_path(@event) %>
    <% else %>
        <%= link_to 'Leave', leave_event_path(@event) %>
    <% end %>
    <%= link_to 'Back', root_path %>
</div>